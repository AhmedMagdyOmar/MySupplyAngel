import{a as R}from"./chunk-SJ66M5YO.js";import{a as $}from"./chunk-4FCUKUDF.js";import{a as U,b as k,c as B}from"./chunk-PSWCPCDP.js";import"./chunk-FPAQATQB.js";import{c as V,f as W,l as x,m as I,n as E,s as N}from"./chunk-57455PMJ.js";import{a as j}from"./chunk-7NGZH4SF.js";import{a as F}from"./chunk-BZNRHYBN.js";import"./chunk-WXI33M2S.js";import"./chunk-B24GJN2W.js";import{f as O}from"./chunk-QKFZZ2ZG.js";import"./chunk-VAADLS33.js";import{$a as v,Ab as _,Eb as b,Fb as P,Gb as S,Ib as w,Ja as g,Ka as c,Lb as A,Mb as L,Ob as D,W as f,bb as C,ea as d,fa as l,fb as y,ib as M,jb as T,kb as o,lb as s,pb as h,rb as m,sb as u}from"./chunk-I3BRGV73.js";import"./chunk-CWTPBX7D.js";var z=(r,n)=>n.id,G=(r,n,a)=>({itemsPerPage:r,currentPage:n,totalItems:a});function H(r,n){if(r&1){let a=h();o(0,"div",5)(1,"app-card-details",7),m("addToWhishList",function(t){d(a);let i=u();return l(i.addAgentTowhishList(t))})("navigateToUpdate",function(){let t=d(a).$implicit,i=u();return l(i.agentControl(t.id))}),s()()}if(r&2){let a=n.$implicit;g(),C("inWishList",a.is_favorite)("details",a)("addOffer",!1)("navigateOpen",!0)}}function J(r,n){if(r&1){let a=h();o(0,"div",6)(1,"pagination-controls",8),m("pageChange",function(t){d(a);let i=u();return l(i.handlePagination(t))}),s()()}}var ae=(()=>{let n=class n{constructor(e,t,i){this.toastr=e,this.agentService=t,this.router=i,this.subs=new j,this.agentList=[],this.itemsPerPage=15,this.currentPage=1,this.filter="MyTenders"}ngOnInit(){this.getMyagent()}getMyagent(){this.filter==="MyTenders"?this.subs.add(this.agentService.getMyagent(this.currentPage).subscribe(e=>{this.agentList=e.data,this.itemsPerPage=e.meta.per_page,this.totalItems=e.meta.total})):this.agentService.getMyagentWhereIaddOffer(this.currentPage).subscribe(e=>{this.agentList=e.data})}addAgentTowhishList(e){this.subs.add(this.agentService.addAgenToFavorite(e.id).subscribe(t=>{t.data.is_favorite?this.toastr.success(t.messages):this.toastr.success("Removed From your wishList")},t=>{this.toastr.error(t.error.message)}))}agentControl(e){this.router.navigate([`/myDeals/${e}/agent-control/agent-detail-form`])}handlePagination(e){this.currentPage=e,this.getMyagent()}ngOnDestroy(){this.subs.unsubscribe()}};n.\u0275fac=function(t){return new(t||n)(c(F),c($),c(O))},n.\u0275cmp=f({type:n,selectors:[["app-my-agent-distributor"]],standalone:!0,features:[w],decls:11,vars:9,consts:[[1,"container"],["name","","id","",3,"change","ngModelChange","ngModel"],["selected","","value","MyTenders"],["value","myOffers"],[1,"row","g-5","mt-4"],[1,"col-lg-6",2,"cursor","pointer"],[1,"text-center"],[3,"addToWhishList","navigateToUpdate","inWishList","details","addOffer","navigateOpen"],[1,"my-pagination",3,"pageChange"]],template:function(t,i){t&1&&(o(0,"div",0)(1,"select",1),m("change",function(){return i.getMyagent()}),S("ngModelChange",function(p){return P(i.filter,p)||(i.filter=p),p}),o(2,"option",2),_(3,"\u0637\u0644\u0628\u0627\u062A\u064A"),s(),o(4,"option",3),_(5,"\u0639\u0631\u0648\u0636 \u0627\u0633\u0639\u0627\u0631\u064A"),s()(),o(6,"div",4),M(7,H,2,4,"div",5,z),L(9,"paginate"),v(10,J,2,0,"div",6),s()()),t&2&&(g(),b("ngModel",i.filter),g(6),T(D(9,2,i.agentList,A(5,G,i.itemsPerPage,i.currentPage,i.totalItems))),g(3),y(10,i.agentList.length?10:-1))},dependencies:[R,B,U,k,N,I,E,x,V,W]});let r=n;return r})();export{ae as MyAgentDistributorComponent};
