import{a as R}from"./chunk-LNQ2ZZCQ.js";import{a as G}from"./chunk-53S5XHCO.js";import{a as V}from"./chunk-34E4EQAT.js";import{a as W}from"./chunk-7P7266TJ.js";import{a as D,b as N,c as H}from"./chunk-PSWCPCDP.js";import"./chunk-PWQZ7GXW.js";import{a as O}from"./chunk-FPAQATQB.js";import"./chunk-ABUVBDXR.js";import{a as M}from"./chunk-WXSNHVFO.js";import"./chunk-57455PMJ.js";import{a as B}from"./chunk-7NGZH4SF.js";import{a as I}from"./chunk-BZNRHYBN.js";import"./chunk-WXI33M2S.js";import"./chunk-B24GJN2W.js";import{g as j,j as k}from"./chunk-QKFZZ2ZG.js";import"./chunk-VAADLS33.js";import{$a as l,Ab as d,Ib as y,Ja as s,Jb as C,Ka as c,Lb as A,Mb as w,Ob as F,Ua as E,W as b,bb as p,ea as g,fa as x,fb as m,ib as S,jb as P,kb as u,lb as a,mb as T,pb as f,rb as h,sb as _}from"./chunk-I3BRGV73.js";import{a as L}from"./chunk-CWTPBX7D.js";var q=(e,i)=>i.id,U=()=>["../add-liquidation-item"],z=()=>["../add-expire-item"],J=(e,i,n)=>({itemsPerPage:e,currentPage:i,totalItems:n});function K(e,i){e&1&&(u(0,"div")(1,"button",4),d(2,"\u0627\u0636\u0641 \u062A\u0635\u0641\u064A\u0627\u062A"),a(),u(3,"button",5),d(4,"\u0627\u0636\u0641 \u0647\u0648\u0627\u0644\u0643 \u062F\u0648\u0631\u064A\u0629"),a()()),e&2&&(s(),p("routerLink",C(2,U)),s(2),p("routerLink",C(3,z)))}function Q(e,i){if(e&1){let n=f();u(0,"div",6)(1,"app-essential-details",8),h("addToWhishList",function(r){g(n);let o=_(2);return x(o.addexpireTowhishList(r))}),a()()}if(e&2){let n=i.$implicit;s(),p("inWishList",n.is_favorite)("details",n)("router","/expiration/"+n.id+"/details")}}function X(e,i){if(e&1){let n=f();u(0,"div",7)(1,"pagination-controls",9),h("pageChange",function(r){g(n);let o=_(2);return x(o.handlePagination(r))}),a()()}}function Y(e,i){if(e&1&&(S(0,Q,2,3,"div",6,q),w(2,"paginate"),l(3,X,2,0,"div",7)),e&2){let n=_();P(F(2,1,n.expireList,A(4,J,n.itemsPerPage,n.currentPage,n.totalItems))),s(3),m(3,n.expireList.length?3:-1)}}function Z(e,i){e&1&&(u(0,"div",10)(1,"p"),d(2,"\u0644\u0627 \u064A\u0648\u062C\u062F \u062A\u0635\u0641\u064A\u0627\u062A ..."),a()())}var _e=(()=>{let i=class i{constructor(t,r,o,v){this.ExpirationService=t,this.toastr=r,this.toastrHelper=o,this.authService=v,this.itemsPerPage=15,this.currentPage=1,this.subs=new B,this.expireList=[],this.userLoginStatus=E(!1),this.record=[{pageName:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0647",router:"/home"},{pageName:"\u062A\u0635\u0641\u064A\u0627\u062A \u0648 \u0647\u0648\u0627\u0644\u0643 \u062F\u0648\u0631\u064A\u0629",router:"/expiration/expire"}]}ngOnInit(){this.getExpireList(),this.authService.UserSignIn.subscribe(t=>{t!=null?this.userLoginStatus.update(()=>!0):this.userLoginStatus.update(()=>!1)})}getExpireList(){this.subs.add(this.ExpirationService.getExpireList(this.searchObj,this.currentPage).subscribe(t=>{this.expireList=t.data,this.itemsPerPage=t.meta.per_page,this.totalItems=t.meta.total}))}addexpireTowhishList(t){this.subs.add(this.ExpirationService.addexpireToWishlist(t.id).subscribe(r=>{r.data.is_favorite?this.toastr.success(r.messages):this.toastr.success("Removed From your wishList")},r=>{this.toastr.error(r.error.message)}))}handleSearchObj(t){this.searchObj=L({},t),this.getExpireList()}handlePagination(t){this.currentPage=t,this.getExpireList()}ngOnDestroy(){this.subs.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)(c(G),c(I),c(V),c(O))},i.\u0275cmp=b({type:i,selectors:[["app-expire-list"]],standalone:!0,features:[y],decls:9,vars:4,consts:[[1,"container"],[3,"record"],[1,"mt-4","d-flex","justify-content-between","align-items-center","flex-wrap"],[3,"searchObj","searchPlaceHolder"],[1,"customBtn","ms-2",3,"routerLink"],[1,"BtnNoBackGround",3,"routerLink"],[1,"my-3"],[1,"text-center"],[3,"addToWhishList","inWishList","details","router"],[1,"my-pagination",3,"pageChange"],[1,"alert","alert-danger","mt-4"]],template:function(r,o){r&1&&(u(0,"div",0),T(1,"app-record",1),u(2,"div",2)(3,"h5"),d(4,"\u062A\u0635\u0641\u064A\u0627\u062A \u0648 \u0647\u0648\u0627\u0644\u0643 \u062F\u0648\u0631\u064A\u0629"),a(),l(5,K,5,4,"div"),a(),u(6,"app-search-input",3),h("searchObj",function($){return o.handleSearchObj($)}),a(),l(7,Y,4,8)(8,Z,3,0),a()),r&2&&(s(),p("record",o.record),s(4),m(5,o.userLoginStatus()?5:-1),s(),p("searchPlaceHolder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0635\u0641\u0642\u0629 \u062C\u062F\u064A\u062F\u0629"),s(),m(7,o.expireList.length?7:8))},dependencies:[M,W,R,k,j,H,D,N],styles:[".customBtn[_ngcontent-%COMP%]{height:40px;padding:0 20px;background-color:#648dc4;border-radius:20px;border:none;color:#fff}.BtnNoBackGround[_ngcontent-%COMP%]{height:40px;padding:0 20px;background-color:transparent;border-radius:20px;border:2px solid #648dc4;color:#648dc4}"]});let e=i;return e})();export{_e as ExpireListComponent};
