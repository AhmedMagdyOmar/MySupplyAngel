import './polyfills.server.mjs';
import{a as F}from"./chunk-GWRAZRL2.mjs";import{a as V}from"./chunk-HN644SSQ.mjs";import{a as D}from"./chunk-WEBHLNZI.mjs";import{a as j,b as y,c as I}from"./chunk-XPYCRJJY.mjs";import"./chunk-WPI32NNX.mjs";import"./chunk-ECCC6GWL.mjs";import"./chunk-TQFWEZNP.mjs";import{a as w}from"./chunk-ZNJQCMII.mjs";import"./chunk-R4VZX5WR.mjs";import{a as T}from"./chunk-XAMK3HJX.mjs";import"./chunk-OFO74N53.mjs";import"./chunk-DCP47WQH.mjs";import"./chunk-AYZFNQ2F.mjs";import"./chunk-GTSSCL6B.mjs";import{Db as b,Lb as x,Ma as p,Na as g,Ob as O,Pb as L,Rb as S,W as v,cb as u,ea as d,eb as h,fa as m,ib as _,lb as P,mb as A,nb as r,ob as s,sb as f,ub as c,vb as l}from"./chunk-OOMDIMHK.mjs";import{a as C}from"./chunk-VVCT4QZE.mjs";var W=(t,i)=>i.id,M=(t,i,e)=>({itemsPerPage:t,currentPage:i,totalItems:e});function k(t,i){if(t&1){let e=f();r(0,"div",3)(1,"app-card-details",5),c("addToWhishList",function(a){d(e);let o=l(2);return m(o.addexpireTowhishList(a))}),s()()}if(t&2){let e=i.$implicit;p(),h("addOffer",!e.is_my_agent)("inWishList",e.is_favorite)("details",e)("router","/agent/"+e.id+"/agent-details")}}function B(t,i){if(t&1){let e=f();r(0,"div",4)(1,"pagination-controls",6),c("pageChange",function(a){d(e);let o=l(2);return m(o.handlePagination(a))}),s()()}}function H(t,i){if(t&1&&(P(0,k,2,4,"div",3,W),L(2,"paginate"),u(3,B,2,0,"div",4)),t&2){let e=l();A(S(2,1,e.agentList,O(4,M,e.itemsPerPage,e.currentPage,e.totalItems))),p(3),_(3,e.agentList.length?3:-1)}}function $(t,i){t&1&&(r(0,"div",7)(1,"p"),b(2,"\u0644\u0627 \u064A\u0648\u062C\u062F"),s()())}var X=(()=>{let i=class i{constructor(n,a){this.AgentService=n,this.toastr=a,this.itemsPerPage=15,this.currentPage=1,this.subs=new w,this.agentList=[]}ngOnInit(){this.getoptionalAgentList()}getoptionalAgentList(){this.subs.add(this.AgentService.getoptionalAgent(this.searchObj,this.currentPage).subscribe(n=>{this.agentList=n.data,this.itemsPerPage=n.meta.per_page,this.totalItems=n.meta.total}))}addexpireTowhishList(n){this.subs.add(this.AgentService.addAgenToFavorite(n.id).subscribe(a=>{a.data.is_favorite?this.toastr.success(a.messages):this.toastr.success("Removed From your wishList")},a=>{this.toastr.error(a.error.message)}))}handleSearchObj(n){this.searchObj=C({},n),this.getoptionalAgentList()}handlePagination(n){this.currentPage=n,this.getoptionalAgentList()}ngOnDestroy(){this.subs.unsubscribe()}};i.\u0275fac=function(a){return new(a||i)(g(D),g(T))},i.\u0275cmp=v({type:i,selectors:[["app-optional-agent"]],standalone:!0,features:[x],decls:5,vars:2,consts:[[1,"container"],[3,"searchObj","searchPlaceHolder"],[1,"row","g-5","mt-4"],[1,"col-md-6"],[1,"text-center"],[3,"addToWhishList","addOffer","inWishList","details","router"],[1,"my-pagination",3,"pageChange"],[1,"alert-danger","alert"]],template:function(a,o){a&1&&(r(0,"div",0)(1,"app-search-input",1),c("searchObj",function(E){return o.handleSearchObj(E)}),s(),r(2,"div",2),u(3,H,4,8)(4,$,3,0),s()()),a&2&&(p(),h("searchPlaceHolder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0635\u0641\u0642\u0629 \u062C\u062F\u064A\u062F\u0629"),p(2),_(3,o.agentList.length?3:4))},dependencies:[F,V,I,j,y]});let t=i;return t})();export{X as OptionalAgentComponent};
