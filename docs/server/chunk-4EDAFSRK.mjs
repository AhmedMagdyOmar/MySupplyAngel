import './polyfills.server.mjs';
import{a as Y,b as Z,c as ee}from"./chunk-XPYCRJJY.mjs";import{a as te}from"./chunk-QSG2PRNO.mjs";import{c as q,f as G,l as H,m as J,n as K,s as Q}from"./chunk-TQFWEZNP.mjs";import{a as X}from"./chunk-ZNJQCMII.mjs";import{a as z}from"./chunk-R4VZX5WR.mjs";import{a as N}from"./chunk-XAMK3HJX.mjs";import"./chunk-OFO74N53.mjs";import{j as $}from"./chunk-DCP47WQH.mjs";import"./chunk-AYZFNQ2F.mjs";import"./chunk-GTSSCL6B.mjs";import{Db as d,Eb as x,Fb as y,Hb as W,Ia as S,Ib as A,Jb as E,Lb as T,Ma as s,Na as f,Nb as L,Ob as V,Pb as B,Rb as U,V as M,W as P,Ya as I,cb as C,ea as u,eb as g,fa as m,ib as D,ka as O,la as b,lb as k,mb as F,nb as i,ob as r,pb as h,sb as v,ub as p,vb as c,vc as j,wc as R}from"./chunk-OOMDIMHK.mjs";import"./chunk-VVCT4QZE.mjs";var ae=o=>({"background-color":o});function oe(o,a){o&1&&h(0,"img",18)}function re(o,a){if(o&1){let l=v();i(0,"section",19)(1,"button",9),p("click",function(){u(l);let n=c();return m(n.shareThisCard("twitter"))}),h(2,"i",20),r(),i(3,"button",9),p("click",function(){u(l);let n=c();return m(n.shareThisCard("facbook"))}),h(4,"i",21),r(),i(5,"button",9),p("click",function(){u(l);let n=c();return m(n.shareThisCard("whatsapp"))}),h(6,"i",22),r()()}}var ne=(()=>{let a=class a{constructor(e,n){this.authService=e,this.toastr=n,this.details=b(),this.cardType=b(),this.addToWhishList=O(),this.navigateToUpdate=O(),this.inWishList=I(!1),this.openShare=!1}transformDate(e){let n=new Date(e),_=new Date().getTime()-n.getTime();return Math.floor(_/(1e3*60*60*24))}handleWhishlist(){this.authService.UserSignIn.getValue()?(this.inWishList.update(e=>!e),this.addToWhishList.emit(this.details())):this.toastr.info("\u064A\u062C\u0628 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0627\u0648\u0644\u0627")}navigate(){this.navigateToUpdate.emit("")}shareButton(){let e=window.location.origin;navigator.share({title:"Check this out!",text:"Check out this amazing content.",url:`${e}/tenders/${this.details().id}/tender-details`})}shareThisCard(e){let t=`https://tenders-pink.vercel.app/expiration/${this.details().id}/details`;e==="twitter"?window.open(`https://twitter.com/intent/tweet?text=${t}`,"_blank"):e==="facbook"?window.open(`https://www.facebook.com/sharer/sharer.php?u=${t}`,"_blank"):e==="whatsapp"&&window.open(`https://web.whatsapp.com/send?text=${t}`,"_blank")}};a.\u0275fac=function(n){return new(n||a)(f(z),f(N))},a.\u0275cmp=P({type:a,selectors:[["app-info-details-for-review"]],inputs:{details:[M.SignalBased,"details"],cardType:[M.SignalBased,"cardType"],inWishList:[M.SignalBased,"inWishList"]},outputs:{addToWhishList:"addToWhishList",navigateToUpdate:"navigateToUpdate",inWishList:"inWishListChange"},standalone:!0,features:[T],decls:39,vars:13,consts:[[1,"details"],[1,"imageContainer"],[1,"m-auto"],["src","./assets/image/corporate-businessmen-shaking-hands.png","alt","tender",4,"ngIf"],["alt","tender",3,"src"],[1,"pe-3","w-100","detailsWrapper"],[1,"detailsTitle"],[1,"mb-3"],[1,"mb-0"],[1,"button-no-style",3,"click"],[1,"fa-solid","fa-eye","shareButton"],[1,"dateDiff","mb-0",2,"margin-top","-13px"],[1,"handleDetails"],[1,"value"],[1,"fa-solid","fa-share-nodes","shareBox",2,"cursor","pointer"],["class","share-content",4,"ngIf"],[1,"tags",3,"ngStyle"],[1,"m-0"],["src","./assets/image/corporate-businessmen-shaking-hands.png","alt","tender"],[1,"share-content"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-facebook"],[1,"fa-brands","fa-whatsapp"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),C(3,oe,1,0,"img",3),h(4,"img",4),r()(),i(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),d(9),i(10,"button",9),p("click",function(){return t.navigate()}),i(11,"span"),h(12,"i",10),r()()(),i(13,"p",11),d(14),r()()(),i(15,"div",12)(16,"div")(17,"p"),d(18),r()(),i(19,"div")(20,"p"),d(21," \u0642\u064A\u0645\u0629 \u0643\u0631\u0627\u0633\u0629 \u0627\u0644\u0634\u0631\u0648\u0637 : "),i(22,"span",13),d(23),r()(),i(24,"p"),d(25," \u0642\u064A\u0645\u0629 \u0627\u0644\u062A\u0623\u0645\u064A\u0646 : "),i(26,"span",13),d(27),r()(),i(28,"p"),d(29," \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u062A\u0647\u0627\u0621 : "),i(30,"span",13),d(31),r()()(),i(32,"div")(33,"button",9),p("click",function(){return t.openShare=!t.openShare}),i(34,"i",14),C(35,re,7,0,"section",15),r()()()()(),i(36,"div",16)(37,"p",17),d(38),r()()()),n&2&&(s(3),g("ngIf",!t.details().tender_images[0].media),s(),g("src",t.details().tender_images[0].media,S),s(5),y(" ",t.details().title," "),s(5),y("\u0645\u0646\u0630 ",t.transformDate(t.details().created_at)," \u0623\u064A\u0627\u0645"),s(4),x(t.details().desc),s(5),x(t.details().tender_specifications_value),s(4),x(t.details().insurance_value),s(4),x(t.details().expiry_date),s(4),g("ngIf",t.openShare),s(),g("ngStyle",L(11,ae,t.cardType()==="MyTenders"?"#6CC4A1":"#D77FA1")),s(2),y(" ",t.cardType()==="MyTenders"?"\u0637\u0644\u0628\u0627\u062A\u064A":"\u0639\u0631\u0648\u0636 \u0627\u0633\u0639\u0627\u0631\u064A"," "))},dependencies:[j,R],styles:[".details[_ngcontent-%COMP%]{position:relative;width:100%;align-items:center;border:2px solid #648dc4;border-radius:10px;display:flex;padding:0 20px;overflow:hidden}.details[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;padding:20px 10px;border-radius:10px;color:#fff;left:-1px;top:0;width:150px;height:20px;z-index:999}.imageContainer[_ngcontent-%COMP%]{height:150px}.imageContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:150px;height:100%}.imageContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px}.detailsWrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:20px 0 0}.handleDetails[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.handleDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1){width:50%;flex-grow:1}.handleDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1)   p[_ngcontent-%COMP%]{color:#919191}.handleDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){width:25%;color:#1d1d1d;font-weight:500}.handleDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(3){width:25%;align-content:start;text-align:end}.handleDetails[_ngcontent-%COMP%]   .button-bgMain-txtWhite-radius[_ngcontent-%COMP%]{margin-right:auto}.detailsTitle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:60px}.detailsTitle[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1d1d1d;font: 600 29px/55px Cairo}.detailsTitle[_ngcontent-%COMP%]   .dateDiff[_ngcontent-%COMP%]{color:#919191;font: 16px Cairo}.detailsTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){color:#648dc4}.detailsTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2)   i[_ngcontent-%COMP%]{cursor:pointer}.detailsTitle[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2)   p[_ngcontent-%COMP%]{cursor:pointer}.value[_ngcontent-%COMP%]{color:#648dc4}@media (max-width: 1200px){.details[_ngcontent-%COMP%]{display:block}.imageContainer[_ngcontent-%COMP%]{margin-top:20px;height:250px}.imageContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:250px;height:250px}.detailsWrapper[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 1000px){.handleDetails[_ngcontent-%COMP%]{flex-wrap:wrap}.handleDetails[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}}@media (max-width: 768px){.imageContainer[_ngcontent-%COMP%]{margin-top:50px}}@media (max-width: 523px){.detailsTitle[_ngcontent-%COMP%]{flex-wrap:wrap;margin:20px 0}.imageContainer[_ngcontent-%COMP%]{min-width:250px;max-width:250px}}.shareButton[_ngcontent-%COMP%]{color:#648dc4;font-size:16px}.shareBox[_ngcontent-%COMP%]{position:relative;color:#648dc4;font-size:16px}.share-content[_ngcontent-%COMP%]{position:absolute;width:220px!important;background-color:#fff;height:60px!important;top:-76px;border-radius:10px;box-shadow:0 4px 16px #00000017;display:flex;justify-content:space-evenly;align-items:center;font-size:25px;left:0;z-index:9999}"]});let o=a;return o})();var se=(o,a)=>a.id,de=(o,a,l)=>({itemsPerPage:o,currentPage:a,totalItems:l});function le(o,a){if(o&1){let l=v();i(0,"div",4)(1,"app-info-details-for-review",6),p("navigateToUpdate",function(){let n=u(l).$implicit,t=c();return m(t.tenderControl(n.id))}),r()()}if(o&2){let l=a.$implicit,e=c();s(),g("cardType",e.filter)("inWishList",!0)("details",l)}}function pe(o,a){if(o&1){let l=v();i(0,"div",5)(1,"pagination-controls",7),p("pageChange",function(n){u(l);let t=c();return m(t.handlePagination(n))}),r()()}}var Te=(()=>{let a=class a{constructor(e,n){this.TendersService=e,this.router=n,this.subs=new X,this.itemsPerPage=15,this.currentPage=1,this.tendersList=[],this.filter="MyTenders",this.addPagination=!1}ngOnInit(){this.getMytender()}getMytender(){this.filter==="MyTenders"?this.subs.add(this.TendersService.getMytenders(this.currentPage).subscribe(e=>{this.tendersList=e.data,e.meta?(this.itemsPerPage=e.meta.per_page,this.totalItems=e.meta.total,this.addPagination=!0):this.addPagination=!1})):this.subs.add(this.TendersService.gettenderWhereIaddOffer().subscribe(e=>{this.tendersList=e.data,e.meta?(this.itemsPerPage=e.meta.per_page,this.totalItems=e.meta.total,this.addPagination=!0):this.addPagination=!1}))}handlePagination(e){this.currentPage=e,this.getMytender()}tenderControl(e){this.router.navigate([`/myDeals/${e}/tender-control/tender-detail-form`])}ngOnDestroy(){this.subs.unsubscribe()}};a.\u0275fac=function(n){return new(n||a)(f(te),f($))},a.\u0275cmp=P({type:a,selectors:[["app-my-tenders"]],standalone:!0,features:[T],decls:10,vars:9,consts:[[1,"container"],["name","","id","",3,"change","ngModelChange","ngModel"],["selected","","value","MyTenders"],["value","myOffers"],[1,"my-3",2,"cursor","pointer"],[1,"text-center"],[3,"navigateToUpdate","cardType","inWishList","details"],[1,"my-pagination",3,"pageChange"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"select",1),p("change",function(){return t.getMytender()}),E("ngModelChange",function(w){return A(t.filter,w)||(t.filter=w),w}),i(2,"option",2),d(3,"\u0637\u0644\u0628\u0627\u062A\u064A"),r(),i(4,"option",3),d(5,"\u0639\u0631\u0648\u0636 \u0627\u0633\u0639\u0627\u0631\u064A"),r()(),k(6,le,2,3,"div",4,se),B(8,"paginate"),C(9,pe,2,0,"div",5),r()),n&2&&(s(),W("ngModel",t.filter),s(5),F(U(8,2,t.tendersList,V(5,de,t.itemsPerPage,t.currentPage,t.totalItems))),s(3),D(9,t.tendersList.length&&t.addPagination?9:-1))},dependencies:[ne,ee,Y,Z,Q,J,K,H,q,G]});let o=a;return o})();export{Te as MyTendersComponent};
