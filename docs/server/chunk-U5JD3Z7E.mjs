import './polyfills.server.mjs';
import{a as I}from"./chunk-GWRAZRL2.mjs";import{a as O}from"./chunk-MV4K6D3W.mjs";import{a as E,b as V,c as W}from"./chunk-XPYCRJJY.mjs";import{a as D}from"./chunk-QSG2PRNO.mjs";import"./chunk-WPI32NNX.mjs";import"./chunk-ECCC6GWL.mjs";import"./chunk-TQFWEZNP.mjs";import{a as F}from"./chunk-JPBSXBQA.mjs";import{a as j}from"./chunk-ZNJQCMII.mjs";import"./chunk-R4VZX5WR.mjs";import{a as w}from"./chunk-XAMK3HJX.mjs";import"./chunk-OFO74N53.mjs";import"./chunk-DCP47WQH.mjs";import"./chunk-AYZFNQ2F.mjs";import"./chunk-GTSSCL6B.mjs";import{Db as C,Lb as x,Ma as d,Na as h,Ob as A,Pb as y,Rb as L,W as v,cb as _,ea as m,eb as l,fa as p,ib as g,lb as P,mb as b,nb as o,ob as a,pb as S,sb as f,ub as c,vb as u}from"./chunk-OOMDIMHK.mjs";import{a as T}from"./chunk-VVCT4QZE.mjs";var N=(e,i)=>i.id,k=(e,i,t)=>({itemsPerPage:e,currentPage:i,totalItems:t});function B(e,i){if(e&1){let t=f();o(0,"div",4)(1,"app-info-details",6),c("addToWhishList",function(r){m(t);let s=u(2);return p(s.addTenderTowhishList(r))}),a()()}if(e&2){let t=i.$implicit;d(),l("MyTender",t.is_my_tender)("inWishList",t.is_favorite)("details",t)("router","/tenders/"+t.id+"/tender-details")}}function H(e,i){if(e&1){let t=f();o(0,"div",5)(1,"pagination-controls",7),c("pageChange",function(r){m(t);let s=u(2);return p(s.handlePagination(r))}),a()()}}function R(e,i){if(e&1&&(P(0,B,2,4,"div",4,N),y(2,"paginate"),_(3,H,2,0,"div",5)),e&2){let t=u();b(L(2,1,t.tendersList,A(4,k,t.itemsPerPage,t.currentPage,t.totalItems))),d(3),g(3,t.tendersList.length?3:-1)}}function $(e,i){e&1&&(o(0,"div",8)(1,"p"),C(2,"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0646\u0627\u0642\u0635\u0627\u062A ..."),a()())}var ee=(()=>{let i=class i{constructor(n,r){this.TendersService=n,this.toastr=r,this.subs=new j,this.record=[{pageName:"\u0627\u0644\u0635\u0641\u062D\u0647 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0647",router:"/home"},{pageName:"\u0633\u062C\u0644 \u0627\u0644\u0645\u0646\u0627\u0642\u0635\u0627\u062A",router:"/tenders/all-tenders"}],this.itemsPerPage=15,this.currentPage=1,this.tendersList=[]}ngOnInit(){this.getAlltenders()}getAlltenders(){this.subs.add(this.TendersService.getAllTenders(this.searchObj,this.currentPage).subscribe(n=>{this.tendersList=n.data,this.itemsPerPage=n.meta.per_page,this.totalItems=n.meta.total}))}addTenderTowhishList(n){this.subs.add(this.TendersService.addTenderToWishlist(n.id).subscribe(r=>{r.data.is_favorite?this.toastr.success(r.messages):this.toastr.success("Removed From your wishList")},r=>{this.toastr.error(r.error.message)}))}handleSearchObj(n){this.searchObj=T({},n),this.getAlltenders()}handlePagination(n){this.currentPage=n,this.getAlltenders()}ngOnDestroy(){this.subs.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)(h(D),h(w))},i.\u0275cmp=v({type:i,selectors:[["app-all-tenders"]],standalone:!0,features:[x],decls:8,vars:3,consts:[[1,"container"],[3,"record"],[1,"mt-4"],[3,"searchObj","searchPlaceHolder"],[1,"my-3"],[1,"text-center"],[3,"addToWhishList","MyTender","inWishList","details","router"],[1,"my-pagination",3,"pageChange"],[1,"alert","alert-danger","mt-4"]],template:function(r,s){r&1&&(o(0,"div",0),S(1,"app-record",1),o(2,"div",2)(3,"h5"),C(4,"\u0633\u062C\u0644 \u0627\u0644\u0645\u0646\u0627\u0642\u0635\u0627\u062A"),a()(),o(5,"app-search-input",3),c("searchObj",function(M){return s.handleSearchObj(M)}),a(),_(6,R,4,8)(7,$,3,0),a()),r&2&&(d(),l("record",s.record),d(4),l("searchPlaceHolder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0635\u0641\u0642\u0629 \u062C\u062F\u064A\u062F\u0629"),d(),g(6,s.tendersList.length?6:7))},dependencies:[O,I,W,E,V,F]});let e=i;return e})();export{ee as AllTendersComponent};
