import './polyfills.server.mjs';
import{a as w}from"./chunk-GWRAZRL2.mjs";import{a as y}from"./chunk-HN644SSQ.mjs";import{a as I}from"./chunk-WEBHLNZI.mjs";import{a as O,b as F,c as j}from"./chunk-XPYCRJJY.mjs";import"./chunk-WPI32NNX.mjs";import"./chunk-ECCC6GWL.mjs";import"./chunk-TQFWEZNP.mjs";import{a as R}from"./chunk-ZNJQCMII.mjs";import"./chunk-R4VZX5WR.mjs";import{a as q}from"./chunk-XAMK3HJX.mjs";import"./chunk-OFO74N53.mjs";import"./chunk-DCP47WQH.mjs";import"./chunk-AYZFNQ2F.mjs";import"./chunk-GTSSCL6B.mjs";import{Db as b,Lb as L,Ma as d,Na as l,Ob as S,Pb as T,Rb as x,W as C,cb as v,ea as p,eb as m,fa as g,ib as h,lb as A,mb as P,nb as s,ob as o,sb as _,ub as c,vb as u}from"./chunk-OOMDIMHK.mjs";import{a as f}from"./chunk-VVCT4QZE.mjs";var D=(e,t)=>t.id,E=(e,t,i)=>({itemsPerPage:e,currentPage:t,totalItems:i});function W(e,t){if(e&1){let i=_();s(0,"div",4)(1,"app-card-details",5),c("addToWhishList",function(r){p(i);let a=u(2);return g(a.addAgentTowhishList(r))}),o()()}if(e&2){let i=t.$implicit;d(),m("addOffer",!i.is_my_agent)("inWishList",i.is_favorite)("details",i)("router","/agent/"+i.id+"/agent-details")}}function M(e,t){if(e&1&&(A(0,W,2,4,"div",4,D),T(2,"paginate")),e&2){let i=u();P(x(2,0,i.agentList,S(3,E,i.itemsPerPage,i.currentPage,i.totalItems)))}}function k(e,t){if(e&1){let i=_();s(0,"div",3)(1,"pagination-controls",6),c("pageChange",function(r){p(i);let a=u();return g(a.handlePagination(r))}),o()()}}function B(e,t){e&1&&(s(0,"div",7)(1,"p"),b(2,"\u0644\u0627 \u064A\u0648\u062C\u062F"),o()())}var X=(()=>{let t=class t{constructor(n,r){this.AgentService=n,this.toastr=r,this.itemsPerPage=15,this.currentPage=1,this.subs=new R,this.agentList=[]}ngOnInit(){this.getRequiredAgentList()}getRequiredAgentList(){this.subs.add(this.AgentService.getRequiredAgent(this.searchObj,this.currentPage).subscribe(n=>{this.agentList=n.data,this.itemsPerPage=n.meta.per_page,this.totalItems=n.meta.total}))}addAgentTowhishList(n){this.subs.add(this.AgentService.addAgenToFavorite(n.id).subscribe(r=>{r.data.is_favorite?this.toastr.success(r.messages):this.toastr.success("Removed From your wishList")},r=>{this.toastr.error(r.error.message)}))}handleSearchObj(n){this.searchObj=f({},n),this.getRequiredAgentList()}handlePagination(n){this.currentPage=n,this.getRequiredAgentList()}ngOnDestroy(){this.subs.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(l(I),l(q))},t.\u0275cmp=C({type:t,selectors:[["app-require-agent"]],standalone:!0,features:[L],decls:6,vars:3,consts:[[1,"container"],[3,"searchObj","searchPlaceHolder"],[1,"row","g-5","mt-4"],[1,"text-center"],[1,"col-lg-6"],[3,"addToWhishList","addOffer","inWishList","details","router"],[1,"my-pagination",3,"pageChange"],[1,"alert-danger","alert"]],template:function(r,a){r&1&&(s(0,"div",0)(1,"app-search-input",1),c("searchObj",function(V){return a.handleSearchObj(V)}),o(),s(2,"div",2),v(3,M,3,7)(4,k,2,0,"div",3)(5,B,3,0),o()()),r&2&&(d(),m("searchPlaceHolder","\u0627\u0628\u062D\u062B \u0639\u0646 \u0635\u0641\u0642\u0629 \u062C\u062F\u064A\u062F\u0629"),d(2),h(3,a.agentList.length?3:-1),d(),h(4,a.agentList.length?4:5))},dependencies:[w,y,j,O,F]});let e=t;return e})();export{X as RequireAgentComponent};
